{"version":3,"file":"static/js/616.e2facc35.chunk.js","mappings":"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","sources":["components/API/fetch.js","webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: 'fcf8166cc673f1c39affaebc2a2648bc',\n};\n\nexport const getAllGenres = async onFetch => {\n  try {\n    const { data } = await axios.get('/genre/movie/list');\n    onFetch(data.genres);\n  } catch (error) {\n    toast.error(error.message);\n  }\n};\nexport const getAllMovies = async (page, onFetch, totalPagesCallback) => {\n  try {\n    const { data } = await axios.get('/discover/movie', {\n      params: {\n        page: page,\n      },\n    });\n    onFetch(data.results);\n    totalPagesCallback(data.total_pages);\n  } catch (error) {\n    toast.error(error.message);\n  }\n};\n\nexport const getTrendingMovie = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day', {\n      params: {\n        page: 1,\n      },\n    });\n    return data;\n  } catch (error) {\n    toast.error(error.message);\n  }\n};\n\nexport const getMovieByQuery = async (\n  page,\n  query,\n  onFetch,\n  totalPagesCallback\n) => {\n  try {\n    const { data } = await axios.get('/search/movie', {\n      params: {\n        query,\n        page: page,\n      },\n    });\n    onFetch(data.results);\n    totalPagesCallback(data.total_pages);\n  } catch (error) {\n    toast.error(error.message);\n  }\n};\n\nexport const getMovieInfo = async movie_id => {\n  try {\n    const { data } = await axios.get(`/movie/${movie_id}`);\n    return data;\n  } catch (error) {\n    toast.error(error.message);\n  }\n};\n\nexport const getReviews = async movie_id => {\n  try {\n    const { data } = await axios.get(`/movie/${movie_id}/reviews`);\n    return data;\n  } catch (error) {\n    toast.error(error.message);\n  }\n};\n\nexport const getCast = async movie_id => {\n  try {\n    const { data } = await axios.get(`/movie/${movie_id}/credits`);\n    return data;\n  } catch (error) {\n    toast.error(error.message);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"backContainer\":\"MovieDetails_backContainer__kUVN0\",\"goBack\":\"MovieDetails_goBack__A3SmA\",\"detailLink\":\"MovieDetails_detailLink__qEwhv\",\"movie\":\"MovieDetails_movie__e4Hw7\",\"image\":\"MovieDetails_image__E07wX\",\"movieDescription\":\"MovieDetails_movieDescription__blLzU\",\"movieName\":\"MovieDetails_movieName__SDlMp\",\"gridContainer\":\"MovieDetails_gridContainer__VvA59\",\"movieItemTitle\":\"MovieDetails_movieItemTitle__5zjoM\",\"voteFocus\":\"MovieDetails_voteFocus__SWCOU\",\"votesUnactive\":\"MovieDetails_votesUnactive__jh8MO\",\"aboutTitle\":\"MovieDetails_aboutTitle__BBuI0\",\"aboutText\":\"MovieDetails_aboutText__+zYxI\",\"btnContainer\":\"MovieDetails_btnContainer__rRwbE\"};","import { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\n\nimport { getMovieInfo } from 'components/API/fetch';\nimport Loader from 'components/Loader/Loader';\n\nimport css from './MovieDetails.module.css';\n\nexport default function MovieDetails() {\n  const location = useLocation();\n\n  const [movie, setMovie] = useState(null);\n  const { id } = useParams();\n  useEffect(() => {\n    if (!id) return;\n    getMovieInfo(id).then(movie => {\n      setMovie(movie);\n    });\n  }, [id]);\n  if (!movie) {\n    return null;\n  }\n  const {\n    poster_path,\n    original_title,\n    title,\n    name,\n    vote_average,\n    vote_count,\n    popularity,\n    overview,\n  } = movie;\n  const backLinkHref = location.state?.from ?? '/movies';\n  return (\n    <>\n      <div className={css.backContainer}>\n        <Link className={css.goBack} to={backLinkHref}>\n          Go back\n        </Link>\n      </div>\n      <div className={css.movie}>\n        <div className={css.imgContainer} width=\"240\">\n          <img\n            className={css.image}\n            src={\n              poster_path\n                ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                : 'https://www.drupal.org/files/project-images/broken-image.jpg'\n            }\n            alt={original_title}\n          />\n        </div>\n        <div className={css.movieDescription}>\n          <h2 className={css.movieName}>{title || name}</h2>\n          <div className={css.gridContainer}>\n            <i className={css.movieItemTitle}>Vote / Votes</i>\n            <div className={css.value}>\n              <span className={css.voteFocus}>{vote_average}</span>\n              <span> / </span>\n              <span className={css.votesUnactive}>{vote_count}</span>\n            </div>\n            <i className={css.movieItemTitle}>Popularity</i>\n            <span className={css.value}>{popularity}</span>\n            <i className={css.movieItemTitle}>Original Title</i>\n            <span className={css.value}>{original_title}</span>\n          </div>\n          <h3 className={css.aboutTitle}>About</h3>\n          <article className={css.aboutText}>{overview}</article>\n          <div className={css.btnContainer}>\n            <Link\n              className={css.detailLink}\n              to=\"reviews\"\n              state={{ from: backLinkHref }}\n            >\n              Go through the reviews\n            </Link>\n            <Link\n              className={css.detailLink}\n              to=\"cast\"\n              state={{ from: backLinkHref }}\n            >\n              Get to know the team\n            </Link>\n          </div>\n        </div>\n        <div>\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":["axios","api_key","getAllGenres","onFetch","data","genres","toast","message","getAllMovies","page","totalPagesCallback","params","results","total_pages","getTrendingMovie","getMovieByQuery","query","getMovieInfo","movie_id","getReviews","getCast","MovieDetails","location","useLocation","useState","movie","setMovie","id","useParams","useEffect","then","poster_path","original_title","title","name","vote_average","vote_count","popularity","overview","backLinkHref","state","from","className","css","to","width","src","alt","Suspense","fallback","Loader"],"sourceRoot":""}